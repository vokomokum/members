CREATE TABLE transaction_types (
	id SERIAL NOT NULL, 
	name VARCHAR(100) 
);
ALTER TABLE transaction_types OWNER TO apache;

CREATE TABLE transactions (
	id SERIAL NOT NULL, 
	ttype_id INTEGER, 
	amount NUMERIC,
        mem_id INTEGER, 
	ord_no INTEGER, 
	comment VARCHAR(500), 
	date timestamp with time zone, 
	late boolean DEFAULT false 
);
ALTER TABLE transactions OWNER TO apache;

INSERT INTO transaction_types (name) VALUES ('Membership Fee');
INSERT INTO transaction_types (name) VALUES ('Order Payment');

ALTER TABLE ONLY transactions
    ADD CONSTRAINT transactions_ttype_fkey FOREIGN KEY (ttype_id) REFERENCES transaction_types(id);

ALTER TABLE ONLY transactions
    ADD CONSTRAINT transactions_member_fkey FOREIGN KEY (mem_id) REFERENCES members(mem_id);

