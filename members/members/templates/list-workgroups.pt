<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal">
    <div metal:use-macro="view.layout.macros['master']">
        <div metal:fill-slot="content">
            
            <form option="${portal_url}/workgroups" method="post" id="list-options">
                <span class="list-option"> Sort by:
                    <input type="radio" name="order_by" value="${order_by}" tal:content="order_by" checked="checked"/>
                    <input type="radio" name="order_by" value="${order_alt}" tal:content="order_alt"/>
                </span>
                <input type="submit" value="List"/>
            </form>          
            
            <a class="add_link" href="workgroups/new" tal:condition="view.user.mem_admin">
                New workgroup
            </a>
            
            <table class="list" width="100%">
                <tr>
                    <th width="5%">ID</th>
                    <th width="15%">Name</th>
                    <th width="20%">Admin</th>
                    <th width="65%">Description</th>
                </tr>
                <tr tal:repeat="wg workgroups" class="list-content">
                    <td>
                        <a href="workgroup/${wg.id}" tal:content="wg.id" title="show/edit"></a>
                    </td>
                    <td>
                        <a href="workgroup/${wg.id}" tal:content="wg.name" title="show/edit"></a>
                    </td>
                    <td>
                        <tal:block tal:repeat="l wg.leaders">
                            <a href="member/${l.mem_id}" tal:content="l.fullname()" title="This member is coordinating this workgroup"></a>
                            <span tal:condition="not repeat.l.end">,</span>
                        </tal:block>
                    </td>
                    <td tal:content="wg.desc"></td>
                </tr>
            </table>

        </div>
    </div>
</html>
